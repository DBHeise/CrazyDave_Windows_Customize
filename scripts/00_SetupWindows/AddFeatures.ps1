$featureList = @("SimpleTCP",
"MicrosoftWindowsPowerShellV2Root",
"MicrosoftWindowsPowerShellV2",
"NetFx3",
"IIS-WebServerRole",
"IIS-WebServer",
"IIS-CommonHttpFeatures",
"IIS-HttpErrors",
"IIS-HttpRedirect",
"IIS-ApplicationDevelopment",
"IIS-NetFxExtensibility45",
"IIS-HealthAndDiagnostics",
"IIS-HttpLogging",
"IIS-LoggingLibraries",
"IIS-RequestMonitor",
"IIS-HttpTracing",
"IIS-Security",
"IIS-URLAuthorization",
"IIS-RequestFiltering",
"IIS-IPSecurity",
"IIS-Performance",
"IIS-HttpCompressionDynamic",
"IIS-WebServerManagementTools",
"IIS-ManagementScriptingTools",
"WAS-WindowsActivationService",
"WAS-ProcessModel",
"IIS-HostableWebCore",
"WCF-Services45",
"WCF-HTTP-Activation45",
"WCF-TCP-Activation45",
"WCF-Pipe-Activation45",
"CF-MSMQ-Activation45",
"WCF-TCP-PortSharing45",
"IIS-CertProvider",
"IIS-WindowsAuthentication",
"IIS-DigestAuthentication",
"IIS-ClientCertificateMappingAuthentication",
"IIS-IISCertificateMappingAuthentication",
"IIS-ODBCLogging",
"IIS-StaticContent",
"IIS-DefaultDocument",
"IIS-DirectoryBrowsing",
"IIS-WebSockets",
"IIS-ApplicationInit",
"IIS-ASPNET45",
"IIS-CGI",
"IIS-ISAPIExtensions",
"IIS-ISAPIFilter",
"IIS-ServerSideIncludes",
"IIS-CustomLogging",
"IIS-BasicAuthentication",
"IIS-HttpCompressionStatic",
"IIS-ManagementConsole",
"IIS-ManagementService",
"IIS-FTPServer",
"IIS-FTPSvc",
"IIS-FTPExtensibility",
"MSMQ-Container",
"MSMQ-Server",
"MSMQ-Triggers",
"MSMQ-ADIntegration",
"MSMQ-HTTP",
"MSMQ-Multicast",
"MSMQ-DCOMProxy",
"NetFx4-AdvSrvs",
"NetFx4Extended-ASPNET45",
"MediaPlayback",
"WindowsMediaPlayer",
"Printing-PrintToPDFServices-Features",
"Printing-XPSServices-Features",
"TelnetClient",
"TFTP",
"Xps-Foundation-Xps-Viewer",
"Microsoft-Windows-NetFx-VCRedist-Package",
"Microsoft-Windows-Printing-PrintToPDFServices-Package",
"Microsoft-Windows-Printing-XPSServices-Package",
"Microsoft-Windows-Client-EmbeddedExp-Package",
"TIFFIFilter",
"Internet-Explorer-Optional-amd64"
)

$featureList | % {
    if ((Get-WindowsOptionalFeature -FeatureName $_ -Online).Status -eq "Disabled") {
        Enable-WindowsOptionalFeature -Online -FeatureName $_
    }
}


